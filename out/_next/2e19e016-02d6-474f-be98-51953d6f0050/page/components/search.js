module.exports=__NEXT_REGISTER_PAGE("/components/search",function(){var e=webpackJsonp([8],{55:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"default",function(){return g});var n=r(14);var a=r.n(n);var o=r(0);var u=r.n(o);var i=r(16);var l=r(50);function s(e){s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return s(e)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function u(e,t){try{var r=o[e](t);var u=r.value}catch(e){a(e);return}r.done?n(u):Promise.resolve(u).then(i,l)}function i(e){u("next",e)}function l(e){u("throw",e)}i()})}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return f.apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function b(e,t,r){t&&v(e.prototype,t);r&&v(e,r);return e}function h(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;return d(e)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=r(30);var g=function(e){y(t,e);function t(){var e;var r,n;p(this,t);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return h(n,(r=n=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),Object.defineProperty(d(n),"resetComponent",{configurable:true,enumerable:true,writable:true,value:function e(){return n.setState({isLoading:false,results:[],rawResults:[],value:""})}}),Object.defineProperty(d(n),"state",{configurable:true,enumerable:true,writable:true,value:{results:[],rawResults:[],isLoading:false,value:"",data:[],bookmarkedProducts:[]}}),Object.defineProperty(d(n),"handleSearchChange",{configurable:true,enumerable:true,writable:true,value:function e(t,r){var a=r.value;n.setState({isLoading:true,value:a});var o=n.state.data;setTimeout(function(){if(n.state.value.length<1)return n.resetComponent();var e=new RegExp(m.escapeRegExp(n.state.value),"i");var t=function t(r){return e.test(r.name)};var r=m.filter(o,t);n.state.bookmarks.forEach(function(e){r.push(e)});var a=m.uniqBy(r,"id");n.setState({isLoading:false,results:a.map(function(e){var t=e.name,r=e.price,n=e.in_stock;return{title:t,price:"$".concat(Number(r).toFixed(2)),description:n?"Available":"Out-of-stock"}}),rawResults:a})},300)}}),Object.defineProperty(d(n),"handleResultSelect",{configurable:true,enumerable:true,writable:true,value:function e(t,r){var a=r.result;return n.setState({value:a.title})}}),r))}b(t,[{key:"componentWillMount",value:function e(){this.resetComponent()}},{key:"componentDidMount",value:function e(){this.setState({data:this.props.products,bookmarks:this.props.bookmarks||[]})}},{key:"render",value:function e(){var t=this.state,r=t.isLoading,n=t.value,a=t.results,o=t.rawResults,s=t.data,c=t.bookmarks;var p=0===o.length?s:o;return u.a.createElement("div",null,u.a.createElement(i["p"],f({as:"h3",loading:r,onResultSelect:this.handleResultSelect,onSearchChange:m.debounce(this.handleSearchChange,500,{leading:true}),results:a,value:n},this.props)),u.a.createElement(i["b"].Group,{itemsPerRow:3},p.map(function(e,t){var r=3+(c?c.length:0);if(t<r)return u.a.createElement(l["default"],{key:t,product:e})})))}}],[{key:"getInitialProps",value:function(){var e=c(a.a.mark(function e(t){var r;return a.a.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:r=t.patient;return n.abrupt("return",{patient:r});case 2:case"end":return n.stop()}},e,this)}));return function t(r){return e.apply(this,arguments)}}()}]);return t}(o["Component"])},807:function(e,t,r){e.exports=r(55)}},[807]);return{page:e.default}});